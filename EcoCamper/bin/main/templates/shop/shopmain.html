
<link rel="stylesheet"
   href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css">
<style>
/* 슬리이더 1 */
.swiper-container {
            width: 100%;
           height: auto;
            position: relative;
}
.swiper-slide {
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 18px;
   text-align: center;
    background: #fff;
   transition: opacity 1s ease-in-out; /* 부드러운 페이드 효과를 위해 transition 추가 */
   
   width: 100%;
   height: 100%;
   overflow: hidden;
}
.swiper-slide img {
    width: 100%; /* 이미지가 슬라이드 너비에 맞게 조정 */
    height: 400px; /* 이미지의 비율 유지 */
    object-fit: cover; /* 이미지의 비율 유지하며 크기 조정 */
    overflow: hidden;
}

/* 슬리이더 2 */
.slider {
   position: relative;
   margin: auto;
   overflow: hidden;
   border: 2px solid #ddd;
   border-radius: 10px;
   margin-top: 30px;
   display: flex; /* 가로 중앙 정렬 */
   align-items: center; /* 세로 중앙 정렬 */
   justify-content: center; /* 가로 중앙 정렬 */
   height: 50vh; /* 브라우저 창 높이에 대한 비율로 설정 */
   height: 300px;
   width: 90%;
   max-width: 1300px;
}


.slider .swiper-slide {
    width: 100%; 
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    padding: 0; 
    overflow: hidden;
}

.slider .swiper-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover; 
    margin: 0; 
    overflow: hidden;
}

.prev, .next {
   cursor: pointer;
   position: absolute;
   top: 50%;
   width: auto;
   padding: 16px;
   margin-top: -22px;
   color: white;
   font-weight: bold;
   font-size: 18px;
   border-radius: 3px;
   user-select: none;
   background-color: rgba(0, 0, 0, 0.5);
}

.prev {
   left: 10px;
}

.next {
   right: 10px;
}

.product-container {
    padding: 20px;
    max-width: 1200px;
    margin: auto;
}

.container1 {
    margin-bottom: 20px;  /* 제목과 더보기 링크 사이의 간격 설정 */
}

.more-alink {
    margin-bottom: 40px;  /* 더보기 링크와 제품들 사이의 간격 설정 */
    text-align: right;  /* 더보기 링크를 오른쪽으로 정렬 */
}

.product-row {
    display: flex;  /* Flexbox를 사용하여 가로 배치 */
    gap: 20px;  /* 제품들 사이의 간격 */
}

.product {
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    overflow: hidden;
    text-align: center;
    flex: 1 1 calc(50% - 20px);  /* 두 개의 제품을 한 줄에 배치, 간격을 고려한 너비 설정 */
    box-sizing: border-box;
    margin-bottom: 20px;  /* 하단 마진 설정 */
}

.product img {
    width: 100%;
    height: auto;
}

.container1 h2 {
    margin: 0;  /* 기본적으로 h2에 적용된 마진 제거 */
    line-height: 80px;  /* 부모 컨테이너의 높이와 동일하게 설정 */
}

.product-container a {
    margin-top: 5px;  /* 상단 마진을 5px로 설정 */
    margin-bottom: 15px;
}


.productinfo {
   padding: 15px;
}

.productinfo h2 {
   margin: 0;
   font-size: 1.5em;
}

.productinfo p {
   margin: 10px 0;
}

.productinfo .price {
   font-size: 1.2em;
   color: #e60012;
}

.productinfo button {
   padding: 10px 20px;
   background-color: #4CAF50;
   color: white;
   border: none;
   border-radius: 5px;
   cursor: pointer;
}

.productinfo button:hover {
   background-color: #45a049;
}


/*중간 크기*/
.cart {
      position: fixed;
      top: 10px;
      right: 10px;
      background-color: #4CAF50;
      color: white;
      padding: 9px 16px;
      font-size: 14px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 90px;
      margin-right: 25px;
}

/* 창의 너비가 600px 이하일 때 */
@media ( max-width : 900px) {
   .cart {
      position: fixed;
      top: 10px;
      right: 10px;
      background-color: #4CAF50;
      color: white;
      padding: 7px 14px;
      font-size: 14px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 80px;
      margin-right: 10px;
   }
}
/* 창의 너비가 600px 이상일 때 */
@media ( min-width : 1200px) {
   .cart {
      position: fixed;
      top: 10px;
      right: 10px;
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 115px;
      margin-right: 40px;
   }
}

.cart:hover {
   background-color: #45a049;
}


.cart-hidden {
    display: none;
}

.cart-visible {
    display: block;
}

.container1 {
   max-width: 1200px;
   margin: 50px auto 20px auto;
   padding: 0 20px;
   background-color: #fff;
   box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
   border-radius: 10px;
   
    display: flex;
    justify-content: center;  /* 가로 가운데 정렬 */
    align-items: center;  /* 세로 가운데 정렬 */
    text-align: center;  /* 텍스트 중앙 정렬 */

   /* 높이를 80px로 고정 */
    height: 80px;
    
      /* 텍스트가 세로 중앙에 오도록 line-height를 높이와 동일하게 설정 */
    line-height: 80px;
    
    /* padding이 높이 계산에 포함되도록 설정 */
    box-sizing: border-box;
    
}

</style>
<div id="cart-button" class="cart cart-hidden" onclick="showCart()">
    장바구니 (<span id="cart-count">0</span>)
</div>

<!-- 슬라이드 화면 1 -->
<div class="swiper-container">
   <div class="swiper-wrapper">
      <div class="swiper-slide">
         <img alt="" src="../images/main_camping1.jpg">
      </div>
      <div class="swiper-slide">
         <img alt="" src="../images/main_camping2.jpg">
      </div>
      <div class="swiper-slide">
         <img alt="" src="../images/main_camping3.jpg">
      </div>
      <div class="swiper-slide">
         <img alt="" src="../images/main_camping4.jpg">
      </div>
      
      <div class="swiper-slide">
         <img alt="" src="../images/main_camping6.jpg">
      </div>
   </div>
   <!-- Add Scrollbar -->
   <!-- 
   <div class="swiper-scrollbar"></div>
    -->
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<script>
           var swiper = new Swiper('.swiper-container', {
               effect: 'fade',             // 페이드 효과
               fadeEffect: {
                   crossFade: true,        // 슬라이드 간 부드러운 전환
               },
               slidesPerView: 1,
               spaceBetween: 0,
               loop: true,                 // 슬라이드가 끝나면 다시 시작
               autoplay: {
                   delay: 3000,            // 슬라이드 전환 간격 (밀리초)
                   disableOnInteraction: false, // 사용자 상호작용 시 자동 재생 유지
               },
               scrollbar: {
                   el: '.swiper-scrollbar',
                   draggable: true,
               },
               speed: 1000,                // 슬라이드 전환 속도 (밀리초)
               mousewheel: true,
               keyboard: true,
           });
       </script>


<!-- 슬라이드 화면 2-->
<br><br><br>
<div align="center">
<h4>Eco-friendly! ITEM</h4> <h5 style="font-size: 18px;"> 친환경 제품과 함께 </h5>
</div>
<div class="slider swiper-container-2">
    <div class="swiper-wrapper slides">
        <div class="swiper-slide">
            <a href="/shop/shopview?pcode=0001"> 
                <img src="../images/cleaner.jpg" width="100" height="100">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="/shop/shopview?pcode=0004"> 
                <img src="../images/plate_set.jpg" width="100" height="100">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="/shop/shopview?pcode=0002"> 
                <img src="../images/roll.jpg" width="100" height="100">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="/shop/shopview?pcode=0003"> 
                <img src="../images/water.jpg" width="100" height="100">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="/shop/shopview?pcode=0005"> 
                <img src="../images/gar_bag.jpg" width="100" height="100">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="/shop/shopview?pcode=0006"> 
                <img src="../images/emergency_kit.jpg" width="100" height="100">
            </a>
        </div>
        <div class="swiper-slide">
            <a href="/shop/shopview?pcode=0007"> 
                <img src="../images/corn_fire.jpg" width="100" height="100">
            </a>
        </div>
        
        <!-- 추가적인 이미지들 -->
    </div>
    <div class="swiper-button-prev prev"></div>
    <div class="swiper-button-next next"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<script>
var swiper2 = new Swiper('.swiper-container-2', {
    slidesPerView: 3, 
    slidesPerGroup: 1, 
    loop: true,
    autoplay: {
        delay: 3000,
        disableOnInteraction: false,
    },
    navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
    },
    spaceBetween: 10,
});
</script>

<!-- 상품 진열 -->
<div id="products1"></div>
<br ><br><br>
<div class="product-container">
   <a href="#" id="link_rent">
    <div class="container1" >
        <h2 align="center">대여 패키지 목록</h2>
    </div>
    </a>
    
    <div class="more-alink" align="right" style="font-size: 17px;">
        
    </div>
    <!-- 제품들을 나란히 배치할 행 -->
    <div class="product-row">
        <div class="product">
            <a href="/shop/shopview?pcode=1001"> <img src="../images/rental_set1.jpg" alt="제품1"></a>
            <div class="productinfo" data-code="1001" data-name="카즈미지오패스PRO텐트패키지" data-price="100000" data-img="rental_set1.jpg">
                <a href="/shop/shopview?pcode=1001"><h2>카즈미지오패스PRO텐트패키지</h2></a>
                <p>4인이상 인원이 사용하게 충분한 패키지</p>
                <p class="price">₩ 100,000</p>
                <button onclick="addToCart()" class="add-to-cart">장바구니에 추가</button>
            </div>
        </div>

        <div class="product">
            <a href="/shop/shopview?pcode=1004"> <img src="../images/rental_set4.jpg" alt="제품2"></a>
            <div class="productinfo" data-code="1004" data-name="블랙인디언패키지" data-price="60000" data-img="rental_set4.jpg">
                <a href="/shop/shopview?pcode=1004"><h2>블랙인디언패키지</h2></a>
                <p>2-4인 인원이 사용가능하고 인디언감성 패키지</p>
                <p class="price">₩ 60,000</p>
                <button onclick="addToCart()" class="add-to-cart">장바구니에 추가</button>
            </div>
        </div>
    </div>
    <!-- 추가적인 제품들을 여기에 삽입 -->
</div>

<!-- 
   <div id="products2"></div>
   <br ><br><br>
   <div class="product-container" >
      <div class="container1">
      <h2 align="center">친환경캠핑용품 목록</h2>
      </div>
      <div class="more-alink"  align="right" style="font-size: 17px;">
         <a href="#" id="link_eco"> 더보기</a></div>
      <div class="product-row">
         <div class="product">
            <a href="/shop/shopview?pcode=0001"> <img src="../images/rental_set1.jpg" alt="제품1"></a>
            <div class="productinfo">
               <a href="/shop/shopview?pcode=0001"><h2>친환경캠핑장비</h2></a>
               <p>친환경캠핑장비입니다. 훌륭한 제품입니다.</p>
               <p class="price">₩25,000</p>
               <button onclick="addToCart()" class="add-to-cart">장바구니에 추가</button>
            </div>
         </div>
      
         <div class="product">
            <a href="/shop/shopview?pcode=0001"> <img src="../images/rental_set1.jpg" alt="제품1"></a>
            <div class="productinfo">
               <a href="/shop/shopview?pcode=0001"><h2>친환경캠핑장비</h2></a>
               <p>친환경캠핑장비입니다. 훌륭한 제품입니다.</p>
               <p class="price">₩30,000</p>
               <button onclick="addToCart()" class="add-to-cart">장바구니에 추가</button>
            </div>
         </div>
      </div>
   </div>
-->

<div id="products2"></div>
<br ><br><br>
<div class="product-container" >
    <a href="#" id="link_gener"> 
   <div class="container1">
   <h2 align="center">캠핑장비 목록</h2>
   </div>
   </a>
   <div class="more-alink"  align="right" style="font-size: 17px;">
     </div>
   <div class="product-row">
      <div class="product">
         <a href="/shop/shopview?pcode=4001">  <img src="../images/g_bed1.jpg" alt="제품1"></a>
         <div class="productinfo" 
            data-code="4001"  data-name="롤드우든캠핑베드" data-price="290000"   data-img="g_bed1.jpg">
            <a href="/shop/view?pcode=4001"><h2>롤드우든캠핑베드</h2></a>
            <p>편안한 수면과 휴식을 제공하는 접이식 침대</p>
            <p class="price">₩ 290,000</p>
            <button onclick="addToCart()" class="add-to-cart">장바구니에 추가</button>
         </div>
      </div>
   
      <div class="product">
         <a href="/shop/shopview?pcode=7001">  <img src="../images/g_fire1.jpg" alt="제품1"></a>
         <div class="productinfo"
            data-code="7001"  data-name="솔캠캠핑화로대" data-price="215000" data-img="g_fire1.jpg">
            <a href="/shop/view?pcode=7001"><h2>솔캠캠핑화로대</h2></a>
            <p>다양한 요리를 즐길수 있는 화로대</p>
            <p class="price">₩ 215,000</p>
            <button onclick="addToCart()" class="add-to-cart">장바구니에 추가</button>
         </div>
      </div>
   </div>
   <!-- 추가적인 제품들을 여기에 삽입 -->
</div>
<br><br><br><br>

<script>

   
      
      function confirm_orderList(){
         if("[[${userId}]]" != "" ){
            location.href="/shop/shopOrderList"   ;
         }else {
            alert("로그인 후 주문내역 열람이 가능합니다.")
            if(confirm("로그인 창으로 이동하시겠습니까?"))   location.href="/loginForm"
                
         }
      }
      
      
      
/* 장바구니 저장 및 업데이트 */

      function addToCart(event) {
         event.preventDefault();  // 기본 동작 방지

         // 제품 정보를 가져옴
         const productinfoDiv = event.target.closest('.productinfo');  // 상위 .productinfo 찾기
         const code = productinfoDiv.getAttribute('data-code');
         const name = productinfoDiv.getAttribute('data-name');
         const img = productinfoDiv.getAttribute('data-img');
         const price = parseFloat(productinfoDiv.getAttribute('data-price'));
         const quantity = 1;  // 기본 수량

         // 기존 장바구니 데이터 불러오기
         let cart = JSON.parse(sessionStorage.getItem('cart')) || [];

         // 상품이 이미 장바구니에 있는지 확인
         const existingProductIndex = cart.findIndex(item => item.code === code);
         if (existingProductIndex > -1) {
            // 상품이 이미 장바구니에 있을 경우 수량을 증가
            cart[existingProductIndex].quantity += quantity;
         } else {
            // 새 상품 추가
            cart.push({ code, name, img, price, quantity });
         }

         // sessionStorage에 저장
         sessionStorage.setItem('cart', JSON.stringify(cart));

         // 장바구니 카운트 업데이트
         updateCartCount();

         // 확인 메시지
         alert(name + '이(가) 장바구니에 추가되었습니다!');
      }

      function updateCartCount() {
         // 장바구니 아이템 수량 계산
         let cart = JSON.parse(sessionStorage.getItem('cart')) || [];
         let totalQuantity = cart.reduce((sum, item) => sum + item.quantity, 0);
         document.getElementById('cart-count').textContent = totalQuantity;
      }

      function showCart() {
         location.href = '/shop/shopcart';
      }
      
       function updateMoreLink(linkId, searchTerm) {
               const link = document.getElementById(linkId);
               if (link) {
                   link.href = `/shop/shopAllList?search=${encodeURIComponent(searchTerm)}`;
               }
           }
      

      // 페이지 로드 시 장바구니 카운트 초기화
      document.addEventListener('DOMContentLoaded', function() {
         updateMoreLink('link_rent', '대여');
            updateMoreLink('link_eco', '친환경');
            updateMoreLink('link_gener', '캠핑');
         
            updateCartCount();

         document.querySelectorAll('.add-to-cart').forEach(button => {
            button.removeEventListener('click', addToCart);  // 기존 이벤트 리스너 제거
            button.addEventListener('click', addToCart);
         });
         
         document.addEventListener('scroll', function() {
             const cartButton = document.getElementById('cart-button');
             const scrollPosition = window.scrollY;
   
             if (scrollPosition > 800) { // Adjust the number as needed
                 cartButton.classList.remove('cart-hidden');
                 cartButton.classList.add('cart-visible');
             } else {
                 cartButton.classList.remove('cart-visible');
                 cartButton.classList.add('cart-hidden');
             }
         });
         
      });
   </script>
</body>
</html>

